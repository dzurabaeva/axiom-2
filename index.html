<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AXIOM 2.0</title>
    <script src="https://code.responsivevoice.org/responsivevoice.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a0a;
            color: #00d4ff;
            font-family: 'Courier New', monospace;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 2em;
            text-shadow: 0 0 20px #00d4ff;
            margin-bottom: 10px;
        }

        .status {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .reactor-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .reactor {
            width: 150px;
            height: 150px;
            border: 3px solid #00d4ff;
            border-radius: 50%;
            box-shadow: 0 0 30px #00d4ff, inset 0 0 30px rgba(0, 212, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            animation: pulse 2s infinite;
        }

        .reactor.listening {
            border-color: #ff00d4;
            box-shadow: 0 0 50px #ff00d4, inset 0 0 50px rgba(255, 0, 212, 0.3);
            animation: pulse-fast 0.5s infinite;
        }

        .reactor-core {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #00d4ff 0%, transparent 70%);
            border-radius: 50%;
            animation: rotate 4s linear infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        @keyframes pulse-fast {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .mic-button {
            width: 80px;
            height: 80px;
            border: 2px solid #00d4ff;
            border-radius: 50%;
            background: transparent;
            color: #00d4ff;
            font-size: 2em;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.3s;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }

        .mic-button:hover {
            background: rgba(0, 212, 255, 0.1);
            transform: scale(1.1);
        }

        .mic-button:active {
            transform: scale(0.95);
        }

        .output {
            width: 100%;
            max-width: 600px;
            min-height: 100px;
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #00d4ff;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            background: rgba(0, 212, 255, 0.05);
            font-size: 0.9em;
        }

        .command-list {
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
        }

        .command-list h3 {
            margin-bottom: 10px;
            text-align: center;
        }

        .commands {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            font-size: 0.85em;
        }

        .command-item {
            padding: 8px;
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 5px;
            background: rgba(0, 212, 255, 0.05);
        }

        .settings {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .settings button {
            background: transparent;
            border: 1px solid #00d4ff;
            color: #00d4ff;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: #0a0a0a;
            border: 2px solid #00d4ff;
            border-radius: 10px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
        }

        .modal-content h3 {
            margin-bottom: 20px;
            text-align: center;
        }

        .modal-content label {
            display: block;
            margin-top: 15px;
            font-size: 0.9em;
        }

        .modal-content input, .modal-content select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            background: #1a1a1a;
            border: 1px solid #00d4ff;
            color: #00d4ff;
            border-radius: 5px;
        }

        .modal-content button {
            width: 100%;
            padding: 12px;
            margin-top: 20px;
            background: #00d4ff;
            color: #0a0a0a;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .top-info {
            position: fixed;
            top: 20px;
            right: 20px;
            text-align: right;
            font-size: 0.8em;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div class="top-info">
        <div id="clock">--:--</div>
        <div style="font-size: 0.8em; opacity: 0.6;">AXIOM v2.0</div>
    </div>

    <div class="header">
        <h1>AXIOM 2.0</h1>
        <div class="status" id="status">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...</div>
    </div>

    <div class="reactor-container">
        <div class="reactor" id="reactor">
            <div class="reactor-core"></div>
        </div>
    </div>

    <button class="mic-button" onclick="toggleListening()">üé§</button>

    <div class="output" id="output">
        <div style="opacity: 0.6;">–û–∂–∏–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥...</div>
    </div>

    <div class="command-list">
        <h3>–ö–æ–º–∞–Ω–¥—ã</h3>
        <div class="commands">
            <div class="command-item">"–ü—Ä–∏–≤–µ—Ç"</div>
            <div class="command-item">"–ö–æ—Ç–æ—Ä—ã–π —á–∞—Å"</div>
            <div class="command-item">"–ö–∞–∫–æ–µ —á–∏—Å–ª–æ"</div>
            <div class="command-item">"–ú–æ—Ç–∏–≤–∞—Ü–∏—è"</div>
            <div class="command-item">"–®—É—Ç–∫–∞"</div>
            <div class="command-item">"–í–∫–ª—é—á–∏ —Å–≤–µ—Ç"</div>
            <div class="command-item">"–í—ã–∫–ª—é—á–∏ —Å–≤–µ—Ç"</div>
            <div class="command-item">"–û—á–∏—Å—Ç–∏"</div>
            <div class="command-item">"–°—Ç–∞—Ç—É—Å"</div>
        </div>
    </div>

    <div class="settings">
        <button onclick="openSettings()">‚öôÔ∏è</button>
    </div>

    <div class="modal" id="settingsModal" onclick="if(event.target === this) closeSettings()">
        <div class="modal-content">
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <label>–ò–º—è:</label>
            <input type="text" id="userName" value="–º–∏—Å—Å">
            
            <label>–°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏:</label>
            <select id="speechRate">
                <option value="0.8">–ú–µ–¥–ª–µ–Ω–Ω–æ</option>
                <option value="1" selected>–ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
                <option value="1.2">–ë—ã—Å—Ç—Ä–æ</option>
            </select>
            
            <label>–ü–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω):</label>
            <input type="number" id="breakTime" value="20" min="5">
            
            <button onclick="saveSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
    </div>

    <script>
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        const CONFIG = {
            userName: localStorage.getItem('axiom_user') || '–º–∏—Å—Å',
            speechRate: parseFloat(localStorage.getItem('axiom_rate')) || 1,
            breakReminder: parseInt(localStorage.getItem('axiom_break')) || 20
        };

        let recognition = null;
        let isListening = false;
        let lastActivity = Date.now();

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            initSpeech();
            startBreakTimer();
            updateClock();
            setInterval(updateClock, 1000);
            
            document.getElementById('userName').value = CONFIG.userName;
            document.getElementById('speechRate').value = CONFIG.speechRate;
            document.getElementById('breakTime').value = CONFIG.breakReminder;
            
            updateStatus('–ì–æ—Ç–æ–≤');
            setTimeout(() => speak(`–°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞. –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${CONFIG.userName}`), 500);
        });

        function updateClock() {
            const now = new Date();
            document.getElementById('clock').textContent = now.toLocaleTimeString('ru-RU', {
                hour: '2-digit', minute: '2-digit'
            });
        }

        // –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
        function initSpeech() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!SpeechRecognition) {
                updateStatus('–ì–æ–ª–æ—Å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                return;
            }

            recognition = new SpeechRecognition();
            recognition.lang = 'ru-RU';
            recognition.continuous = false;
            recognition.interimResults = false;

            recognition.onstart = () => {
                isListening = true;
                document.getElementById('reactor').classList.add('listening');
                updateStatus('–°–ª—É—à–∞—é...');
            };

            recognition.onend = () => {
                isListening = false;
                document.getElementById('reactor').classList.remove('listening');
                updateStatus('–ì–æ—Ç–æ–≤');
            };

            recognition.onresult = (event) => {
                const command = event.results[0][0].transcript.toLowerCase();
                addOutput(`> ${command}`);
                processCommand(command);
            };

            recognition.onerror = () => {
                updateStatus('–û—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞');
                isListening = false;
                document.getElementById('reactor').classList.remove('listening');
            };
        }

        // –°–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏
        function speak(text) {
            addOutput(`AXIOM: ${text}`, true);
            
            if (typeof responsiveVoice !== 'undefined') {
                responsiveVoice.speak(text, 'Russian Female', {rate: CONFIG.speechRate});
                return;
            }

            if ('speechSynthesis' in window) {
                const u = new SpeechSynthesisUtterance(text);
                u.lang = 'ru-RU';
                u.rate = CONFIG.speechRate;
                const voices = window.speechSynthesis.getVoices();
                const rv = voices.find(v => v.lang.includes('ru'));
                if (rv) u.voice = rv;
                window.speechSynthesis.speak(u);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
        function processCommand(cmd) {
            lastActivity = Date.now();

            if (cmd.includes('–ø—Ä–∏–≤–µ—Ç') || cmd.includes('–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π')) {
                speak(`–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é, ${CONFIG.userName}`);
            }
            else if (cmd.includes('–≤—Ä–µ–º—è') || cmd.includes('—á–∞—Å')) {
                const t = new Date().toLocaleTimeString('ru-RU', {hour:'2-digit', minute:'2-digit'});
                speak(`–°–µ–π—á–∞—Å ${t}`);
            }
            else if (cmd.includes('–¥–∞—Ç–∞') || cmd.includes('—á–∏—Å–ª–æ') || cmd.includes('—Å–µ–≥–æ–¥–Ω—è')) {
                const d = new Date().toLocaleDateString('ru-RU', {weekday:'long', day:'numeric', month:'long'});
                speak(`–°–µ–≥–æ–¥–Ω—è ${d}`);
            }
            else if (cmd.includes('–º–æ—Ç–∏–≤–∞—Ü–∏—è')) {
                const quotes = [
                    '–í—ã —É–∂–µ –ø—Ä–æ–¥–µ–ª–∞–ª–∏ –æ–≥—Ä–æ–º–Ω—ã–π –ø—É—Ç—å, –º–∏—Å—Å.',
                    '–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ—á–∫–∞ –∫–æ–¥–∞ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –∫ —Ü–µ–ª–∏.',
                    '–°–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–æ—Å—Ç–∞.',
                    '–í—ã –∞–Ω–∞–ª–∏—Ç–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–¥–∞—ë—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã.',
                    '–ù–µ —Å–¥–∞–≤–∞–π—Ç–µ—Å—å. –ü–µ—Ä–µ—Ä—ã–≤ –≤–∞–∂–µ–Ω, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å.'
                ];
                speak(quotes[Math.floor(Math.random() * quotes.length)]);
            }
            else if (cmd.includes('—à—É—Ç–∫–∞')) {
                const jokes = [
                    '–ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –ø—É—Ç–∞—é—Ç –•—ç–ª–ª–æ—É–∏–Ω –∏ –†–æ–∂–¥–µ—Å—Ç–≤–æ? 31 –æ–∫—Ç—è–±—Ä—è = 25 –¥–µ–∫–∞–±—Ä—è.',
                    '–ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∞–º—ã–π –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π? Java ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Å–µ–≥–¥–∞ –≤ —Ö–æ—Ä–æ—à–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏.',
                    '–ü–æ—á–µ–º—É Python –ª—é–±–∏—Ç –∑–º–µ–π? –ü–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –±–æ–∏—Ç—Å—è –∏—Ö.'
                ];
                speak(jokes[Math.floor(Math.random() * jokes.length)]);
            }
            else if (cmd.includes('–≤–∫–ª—é—á–∏ —Å–≤–µ—Ç')) {
                speak('–í–∫–ª—é—á–∞—é –æ—Å–≤–µ—â–µ–Ω–∏–µ...');
            }
            else if (cmd.includes('–≤—ã–∫–ª—é—á–∏ —Å–≤–µ—Ç')) {
                speak('–í—ã–∫–ª—é—á–∞—é –æ—Å–≤–µ—â–µ–Ω–∏–µ...');
            }
            else if (cmd.includes('–æ—á–∏—Å—Ç–∏') || cmd.includes('—Å—Ç–µ—Ä–µ—Ç—å')) {
                document.getElementById('output').innerHTML = '';
                speak('–≠–∫—Ä–∞–Ω –æ—á–∏—â–µ–Ω');
            }
            else if (cmd.includes('—Å—Ç–∞—Ç—É—Å')) {
                speak(`–°—Ç–∞—Ç—É—Å –Ω–æ—Ä–º–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${CONFIG.userName}. –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.`);
            }
            else if (cmd.includes('–∫–∞–∫ –¥–µ–ª–∞')) {
                speak('–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç —à—Ç–∞—Ç–Ω–æ.');
            }
            else {
                speak('–ö–æ–º–∞–Ω–¥–∞ –ø—Ä–∏–Ω—è—Ç–∞. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é...');
            }
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
        function toggleListening() {
            if (!recognition) {
                speak('–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ');
                return;
            }
            if (isListening) {
                recognition.stop();
            } else {
                recognition.start();
            }
        }

        function updateStatus(text) {
            document.getElementById('status').textContent = text;
        }

        function addOutput(text, isAxiom = false) {
            const out = document.getElementById('output');
            const div = document.createElement('div');
            div.textContent = text;
            div.style.color = isAxiom ? '#ff00d4' : '#00d4ff';
            div.style.marginBottom = '5px';
            out.appendChild(div);
            out.scrollTop = out.scrollHeight;
        }

        // –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
        function startBreakTimer() {
            setInterval(() => {
                if ((Date.now() - lastActivity) / 60000 >= CONFIG.breakReminder) {
                    speak(`${CONFIG.userName}, —Å–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–µ—Ä—ã–≤. –ì–ª–∞–∑–∞ –æ—Ç–¥–æ—Ö–Ω—É—Ç.`);
                    lastActivity = Date.now();
                }
            }, 60000);
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        function openSettings() {
            document.getElementById('settingsModal').style.display = 'flex';
        }

        function closeSettings() {
            document.getElementById('settingsModal').style.display = 'none';
        }

        function saveSettings() {
            CONFIG.userName = document.getElementById('userName').value || '–º–∏—Å—Å';
            CONFIG.speechRate = parseFloat(document.getElementById('speechRate').value);
            CONFIG.breakReminder = parseInt(document.getElementById('breakTime').value);
            
            localStorage.setItem('axiom_user', CONFIG.userName);
            localStorage.setItem('axiom_rate', CONFIG.speechRate);
            localStorage.setItem('axiom_break', CONFIG.breakReminder);
            
            speak(`–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã, ${CONFIG.userName}`);
            closeSettings();
        }
    </script>
</body>
</html>
